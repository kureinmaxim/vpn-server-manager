# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞ VPN Server Manager

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ –≤ –ø—Ä–æ–µ–∫—Ç–µ, –∞ —Ç–∞–∫–∂–µ –æ—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –î–µ—Ä–µ–≤–æ –ü—Ä–æ–µ–∫—Ç–∞

```
VPNserverManage/
‚îÇ
‚îú‚îÄ‚îÄ app.py                      # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Å–µ—Ä–≤–µ—Ä Flask –∏ –ª–æ–≥–∏–∫–∞ GUI)
‚îú‚îÄ‚îÄ build_macos.py              # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–±–æ—Ä–∫–∏ .app –∏ .dmg –¥–ª—è macOS
‚îú‚îÄ‚îÄ requirements.txt            # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python
‚îú‚îÄ‚îÄ config.json                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤–µ—Ä—Å–∏—è, URL-—ã)
‚îú‚îÄ‚îÄ VPNServerManager.spec       # –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è PyInstaller
‚îú‚îÄ‚îÄ README.md                   # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ PROJECT_STRUCTURE.md        # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ SECRET_KEY.md               # –°–∏—Å—Ç–µ–º–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ BUILD.md                    # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–±–æ—Ä–∫–µ
‚îú‚îÄ‚îÄ CHANGELOG.md                # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ CONTRIBUTING.md             # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—á–∞—Å—Ç–∏—é –≤ –ø—Ä–æ–µ–∫—Ç–µ
‚îú‚îÄ‚îÄ LICENSE                     # –õ–∏—Ü–µ–Ω–∑–∏—è MIT
‚îú‚îÄ‚îÄ .env                        # –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ .gitignore                  # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
‚îú‚îÄ‚îÄ generate_key.py             # –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SECRET_KEY
‚îú‚îÄ‚îÄ decrypt_tool.py             # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ pin_auth.py                 # –°–∏—Å—Ç–µ–º–∞ PIN-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ servers.json.enc        # –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Å–µ—Ä–≤–µ—Ä–∞—Ö
‚îÇ   ‚îú‚îÄ‚îÄ hints.json              # –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥ (—à–ø–∞—Ä–≥–∞–ª–∫–∞)
‚îÇ   ‚îî‚îÄ‚îÄ merged_*.enc           # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–ª–∏—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ css/style.css           # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ icon.png            # –ò–∫–æ–Ω–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ PNG
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ icon.icns           # –ò–∫–æ–Ω–∫–∞ –¥–ª—è macOS
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ icon_base64.txt     # –ò–∫–æ–Ω–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ base64
‚îÇ   ‚îî‚îÄ‚îÄ favicon.ico             # –ò–∫–æ–Ω–∫–∞ –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ layout.html             # –ë–∞–∑–æ–≤—ã–π HTML-—à–∞–±–ª–æ–Ω (–Ω–∞–≤–∏–≥–∞—Ü–∏—è, —Ñ—É—Ç–µ—Ä, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ UI)
‚îÇ   ‚îú‚îÄ‚îÄ index.html              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤) ‚≠ê –û–ë–ù–û–í–õ–ï–ù–ê
‚îÇ   ‚îú‚îÄ‚îÄ index_locked.html       # –≠–∫—Ä–∞–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å PIN-—Å–∏—Å—Ç–µ–º–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ add_server.html         # –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ edit_server.html        # –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ settings.html           # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏)
‚îÇ   ‚îú‚îÄ‚îÄ about.html              # –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–û –ø—Ä–æ–≥—Ä–∞–º–º–µ"
‚îÇ   ‚îú‚îÄ‚îÄ help.html               # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø—Ä–∞–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ cheatsheet.html         # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îî‚îÄ‚îÄ manage_hints.html       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
‚îÇ
‚îú‚îÄ‚îÄ uploads/                    # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ *.png                   # –ò–∫–æ–Ω–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ *                       # –ß–µ–∫–∏ –æ–± –æ–ø–ª–∞—Ç–µ –∏ –¥—Ä—É–≥–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ venv/                       # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
‚îî‚îÄ‚îÄ .cursor/                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è IDE (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è)
```

## –û–ø–∏—Å–∞–Ω–∏–µ –§–∞–π–ª–æ–≤ –∏ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

-   **`app.py`**: –°–µ—Ä–¥—Ü–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –°–æ–¥–µ—Ä–∂–∏—Ç:
    -   –í–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –±–∞–∑–µ **Flask**, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã (–ø–æ–∫–∞–∑–∞—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å, —É–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä).
    -   –õ–æ–≥–∏–∫—É —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è/–¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–∞ –∏–∑ —Ñ–∞–π–ª–∞ `.env`.
    -   –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å **PyWebView** –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ –Ω–∞—Ç–∏–≤–Ω–æ–º –æ–∫–Ω–µ macOS.
    -   –§—É–Ω–∫—Ü–∏—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã (`/shutdown`) –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–æ—Ä—Ç–∞.
    -   **üÜï PIN-–°–ò–°–¢–ï–ú–ê**: –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∑–∞—â–∏—Ç—ã:
        -   `/pin/login_ajax` - AJAX –≤—Ö–æ–¥ –ø–æ PIN-–∫–æ–¥—É
        -   `/pin/change_ajax` - —Å–º–µ–Ω–∞ PIN-–∫–æ–¥–∞
        -   `/pin/check_auth` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
        -   `/pin/check_block` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—Ö–æ–¥–∞
        -   `/pin/first_time_setup` - –ø–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ PIN
        -   `/pin/import_archive` - –∏–º–ø–æ—Ä—Ç –∞—Ä—Ö–∏–≤–∞ —Å PIN
        -   `/pin/check_archive` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏–≤–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ PIN
    -   **‚≠ê –ù–û–í–û–ï**: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞:
        -   `/data/export` - —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (.enc —Ñ–∞–π–ª)
        -   `/data/export_key` - —ç–∫—Å–ø–æ—Ä—Ç –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (.env —Ñ–∞–π–ª) 
        -   `/data/export_package` - –ø–æ–ª–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç (ZIP —Å –¥–∞–Ω–Ω—ã–º–∏, –∫–ª—é—á–æ–º, PIN –∏ —Ñ–∞–π–ª–∞–º–∏)
        -   `/data/import_external` - –∏–º–ø–æ—Ä—Ç —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º –∏–∑ –¥—Ä—É–≥–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏