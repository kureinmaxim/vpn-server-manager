# ü™ü VPN Server Manager - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è Windows

–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫—É VPN Server Manager –Ω–∞ Windows.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–°–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç** –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É –≤ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫–µ
2. **–î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ** –Ω–∞ `setup_windows.bat`
3. **–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è** —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ venv, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞)
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - –¥–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ `start_windows.bat`

–ì–æ—Ç–æ–≤–æ! üéâ

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```cmd
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ CMD –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
cd C:\path\to\vpn-server-manager

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É
setup_windows.bat

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
start_windows.bat
```

## üìã –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ Python

–û—Ç–∫—Ä–æ–π—Ç–µ CMD –∏–ª–∏ PowerShell –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Python:

```cmd
python --version
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å **Python 3.8 –∏–ª–∏ –≤—ã—à–µ**. –ï—Å–ª–∏ Python –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
- –°–∫–∞—á–∞–π—Ç–µ —Å [python.org](https://www.python.org/downloads/)
- –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–º–µ—Ç—å—Ç–µ** "Add Python to PATH"

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–ß–µ—Ä–µ–∑ CMD:**
```cmd
python -m venv venv
venv\Scripts\activate
```

**–ß–µ—Ä–µ–∑ PowerShell:**
```powershell
python -m venv venv
venv\Scripts\Activate.ps1
```

> ‚ö†Ô∏è **–û—à–∏–±–∫–∞ –≤ PowerShell?** –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É "execution policy", –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
> ```powershell
> Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
> ```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```cmd
pip install -r requirements.txt
```

### –®–∞–≥ 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

```cmd
python generate_key.py
```

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `.env` —Å–æ –≤—Å–µ–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏–∑ `env.example` –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π `SECRET_KEY`.

### –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```cmd
# Desktop —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python run.py --desktop

# Web —Ä–µ–∂–∏–º (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
python run.py

# Debug —Ä–µ–∂–∏–º
python run.py --debug
```

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**CMD:**
```cmd
venv\Scripts\activate
```

**PowerShell:**
```powershell
venv\Scripts\Activate.ps1
```

### –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è

```cmd
deactivate
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–∞–∫–µ—Ç–∞

```cmd
venv\Scripts\activate
pip install package_name
pip freeze > requirements.txt
```

### –ó–∞–ø—É—Å–∫ –±–µ–∑ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ venv

```cmd
# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
venv\Scripts\python.exe run.py --desktop

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞
venv\Scripts\pip.exe install package_name

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞
venv\Scripts\python.exe generate_key.py
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Python –Ω–µ –Ω–∞–π–¥–µ–Ω

**–ü—Ä–æ–±–ª–µ–º–∞:** `'python' is not recognized as an internal or external command`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python —Å —Å–∞–π—Ç–∞ [python.org](https://www.python.org/downloads/)
2. –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–º–µ—Ç—å—Ç–µ** "Add Python to PATH"
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ CMD/PowerShell

### –û—à–∏–±–∫–∞ PowerShell ExecutionPolicy

**–ü—Ä–æ–±–ª–µ–º–∞:** `cannot be loaded because running scripts is disabled`

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–∞–∫–µ—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** `error: Microsoft Visual C++ 14.0 is required`

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–∫–∞—á–∞–π—Ç–µ [Microsoft C++ Build Tools](https://visualstudio.microsoft.com/visual-cpp-build-tools/)
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [Anaconda](https://www.anaconda.com/products/distribution) –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Python

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–∫–Ω–æ —Å—Ä–∞–∑—É –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–ª–∏ –æ—à–∏–±–∫–∞

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ `.env` —Ñ–∞–π–ª–∞:
   ```cmd
   dir .env
   ```
   –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç, –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```cmd
   venv\Scripts\activate
   python generate_key.py
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```cmd
   type logs\app.log
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ debug —Ä–µ–∂–∏–º–µ:
   ```cmd
   venv\Scripts\activate
   python run.py --debug
   ```

### –ê–Ω—Ç–∏–≤–∏—Ä—É—Å –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** Windows Defender –∏–ª–∏ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –±–ª–æ–∫–∏—Ä—É–µ—Ç `.venv` –∏–ª–∏ `.exe` —Ñ–∞–π–ª—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤—å—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–∞
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º—è `venv` –≤–º–µ—Å—Ç–æ `.venv` (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö)

### –ü–æ—Ä—Ç 5000 –∑–∞–Ω—è—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** `Address already in use`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `.env`:
   ```
   PORT=5001
   ```
2. –ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –∏ –∑–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å:
   ```cmd
   netstat -ano | findstr :5000
   taskkill /PID <–Ω–æ–º–µ—Ä_–ø—Ä–æ—Ü–µ—Å—Å–∞> /F
   ```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ (Windows)

```
vpn-server-manager\
‚îú‚îÄ‚îÄ venv\                      # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ Scripts\
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ activate.bat       # –ê–∫—Ç–∏–≤–∞—Ü–∏—è –¥–ª—è CMD
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Activate.ps1       # –ê–∫—Ç–∏–≤–∞—Ü–∏—è –¥–ª—è PowerShell
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ python.exe         # Python –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pip.exe           # –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ setup_windows.bat          # üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
‚îú‚îÄ‚îÄ start_windows.bat          # üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ generate_key.py            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞
‚îú‚îÄ‚îÄ run.py                     # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ env.example               # –®–∞–±–ª–æ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ .env                      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ ...
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –§–∞–π–ª .env

–§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:
- ‚ùå **–ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ** –µ–≥–æ –≤ Git/GitHub
- ‚ùå **–ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ** –¥—Ä—É–≥–∏–º –ª—é–¥—è–º
- ‚úÖ **–•—Ä–∞–Ω–∏—Ç–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** –≤–º–µ—Å—Ç–µ —Å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –ï—Å–ª–∏ –ø–æ—Ç–µ—Ä—è–ª–∏ .env

–ï—Å–ª–∏ –≤—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Ñ–∞–π–ª `.env`:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python generate_key.py` - —Å–æ–∑–¥–∞—Å—Ç—Å—è –Ω–æ–≤—ã–π –∫–ª—é—á
2. ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –í—Å–µ —Ä–∞–Ω–µ–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç **–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã**
3. –ü—Ä–∏–¥–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ –≤—Å–µ –∑–∞–ø–∏—Å–∏ –æ —Å–µ—Ä–≤–µ—Ä–∞—Ö

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ø–∏—é –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:
```cmd
# –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –±—ç–∫–∞–ø–∞
mkdir backup

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
copy .env backup\.env
copy data\servers.json.enc backup\servers.json.enc
copy pin_block_state.json backup\pin_block_state.json
```

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

### –°–æ–∑–¥–∞–Ω–∏–µ —è—Ä–ª—ã–∫–∞ –Ω–∞ –†–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ

1. –ù–∞–π–¥–∏—Ç–µ `start_windows.bat` –≤ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫–µ
2. **–ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏** ‚Üí "–°–æ–∑–¥–∞—Ç—å —è—Ä–ª—ã–∫"
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —è—Ä–ª—ã–∫ –Ω–∞ –†–∞–±–æ—á–∏–π —Å—Ç–æ–ª
4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ò–∑–º–µ–Ω–∏—Ç–µ –∏–∫–æ–Ω–∫—É:
   - –ü–ö–ú –Ω–∞ —è—Ä–ª—ã–∫ ‚Üí "–°–≤–æ–π—Å—Ç–≤–∞" ‚Üí "–°–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–æ–∫"
   - –£–∫–∞–∂–∏—Ç–µ `static\images\icon.png`

### –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ Windows

1. –ù–∞–∂–º–∏—Ç–µ `Win + R` ‚Üí –≤–≤–µ–¥–∏—Ç–µ `shell:startup` ‚Üí Enter
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç—É–¥–∞ —è—Ä–ª—ã–∫ –Ω–∞ `start_windows.bat`

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```cmd
# 1. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ venv
venv\Scripts\activate

# 2. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –∏–∑ Git
git pull

# 3. –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt --upgrade

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
start_windows.bat
```

## üÜò –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```cmd
   type logs\app.log
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ debug —Ä–µ–∂–∏–º–µ:**
   ```cmd
   venv\Scripts\activate
   python run.py --debug
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏:**
   ```cmd
   python --version
   pip --version
   venv\Scripts\pip.exe list
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ Issue –Ω–∞ GitHub** —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã –∏ –ª–æ–≥–∞–º–∏

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [README.md](README.md) - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [docs/project_info/BUILD.md](docs/project_info/BUILD.md) - –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [DOCKER_GUIDE.md](DOCKER_GUIDE.md) - –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

---

**VPN Server Manager v4.0.5** | [GitHub](https://github.com/kureinmaxim/vpn-server-manager)

