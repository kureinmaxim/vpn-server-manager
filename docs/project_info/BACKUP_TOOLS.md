# üîí –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ v4.0.3

## üìÅ –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ

VPN Server Manager v4.0.3 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
- **`backup_tools/`** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±—ç–∫–∞–ø–æ–≤ (legacy)
- **`data/`** - –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–æ–≤
- **`uploads/`** - –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤
- **`logs/`** - –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üöÄ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (v4.0.3)

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Settings ‚Üí Data Management):

**1. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ ‚Üí –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ servers.json.enc
- –§–∞–π–ª: data_export_YYYYMMDD_HHMMSS.enc
```

**2. –≠–∫—Å–ø–æ—Ä—Ç –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è**
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ ‚Üí –≠–∫—Å–ø–æ—Ä—Ç –∫–ª—é—á–∞
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç .env —Ñ–∞–π–ª —Å SECRET_KEY
- –§–∞–π–ª: secret_key_export_YYYYMMDD_HHMMSS.env
- ‚ö†Ô∏è –í–ê–ñ–ù–û: –•—Ä–∞–Ω–∏—Ç–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ!
```

**3. –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–ª–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞**
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ ‚Üí –≠–∫—Å–ø–æ—Ä—Ç –ø–∞–∫–µ—Ç–∞
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ + –∫–ª—é—á –≤ ZIP
- –§–∞–π–ª: full_backup_YYYYMMDD_HHMMSS.zip
- –°–æ–¥–µ—Ä–∂–∏—Ç: servers.json.enc + secret_key.env
```

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤):

**–°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –≤—Ä—É—á–Ω—É—é:**
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ
cp data/servers.json.enc data/backup_$(date +%Y%m%d_%H%M%S).enc

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á
cp .env .env.backup_$(date +%Y%m%d_%H%M%S)

# –ò–ª–∏ —á–µ—Ä–µ–∑ Git
git add data/ .env
git commit -m "Backup: $(date)"
```

## üìã –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (v4.0.3)

### –ò–º–ø–æ—Ä—Ç –∏–∑ –±—ç–∫–∞–ø–∞

**1. –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (—Å —Ç–µ–º –∂–µ –∫–ª—é—á–æ–º)**
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ ‚Üí –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- –í—ã–±–µ—Ä–∏—Ç–µ .enc —Ñ–∞–π–ª
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ñ—Ä—É–µ—Ç —Å —Ç–µ–∫—É—â–∏–º –∫–ª—é—á–æ–º
- –û–±—ä–µ–¥–∏–Ω–∏—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏
```

**2. –ò–º–ø–æ—Ä—Ç –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö (—Å –¥—Ä—É–≥–∏–º –∫–ª—é—á–æ–º)**
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ ‚Üí –ò–º–ø–æ—Ä—Ç –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –í—ã–±–µ—Ä–∏—Ç–µ .enc —Ñ–∞–π–ª
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ .env —Ñ–∞–π–ª —Å –∫–ª—é—á–æ–º –æ—Ç —ç—Ç–æ–≥–æ –±—ç–∫–∞–ø–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—à–∏—Ñ—Ä—É–µ—Ç –ø–∞—Ä–æ–ª–∏ –Ω–∞ —Ç–µ–∫—É—â–∏–π –∫–ª—é—á
- –û–±—ä–µ–¥–∏–Ω–∏—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏
```

### –°–º–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ ‚Üí –°–º–µ–Ω–∏—Ç—å –≥–ª–∞–≤–Ω—ã–π –∫–ª—é—á
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–π .env —Ñ–∞–π–ª —Å SECRET_KEY
- –í—Å–µ –ø–∞—Ä–æ–ª–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã
- –°—Ç–∞—Ä—ã–π –∫–ª—é—á –±–æ–ª—å—à–µ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á-–¥–∞–Ω–Ω—ã–µ

```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–ª—é—á-–¥–∞–Ω–Ω—ã–µ
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ .env –∏ .enc —Ñ–∞–π–ª—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–ª—é—á–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- –ü–æ–∫–∞–∂–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ —Ñ–∞–π–ª–µ
```

## üéØ –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### Production (—É–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ .app):
```
~/Library/Application Support/VPNServerManager-Clean/
‚îú‚îÄ‚îÄ config.json           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (version: 4.0.3)
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ servers.json.enc  # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ merged_*.enc      # –û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
‚îú‚îÄ‚îÄ uploads/              # –ò–∫–æ–Ω–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îî‚îÄ‚îÄ app.log          # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ .env                 # SECRET_KEY (–í–ê–ñ–ù–û!)
```

### Development (–∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤):
```
VPNserverManage-Clean/
‚îú‚îÄ‚îÄ config.json           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ servers.json.enc
‚îÇ   ‚îî‚îÄ‚îÄ merged_*.enc
‚îú‚îÄ‚îÄ uploads/
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îî‚îÄ‚îÄ app.log
‚îî‚îÄ‚îÄ .env                 # SECRET_KEY
```

### –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±—ç–∫–∞–ø—ã:
```
~/Downloads/ (–∏–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è)
‚îú‚îÄ‚îÄ data_export_20251012_150030.enc          # –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ secret_key_export_20251012_150030.env    # –¢–æ–ª—å–∫–æ –∫–ª—é—á
‚îî‚îÄ‚îÄ full_backup_20251012_150030.zip          # –ü–æ–ª–Ω—ã–π –ø–∞–∫–µ—Ç
```

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ Best Practices

### –†–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
1. **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ**: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø–∞–∫–µ—Ç (–¥–∞–Ω–Ω—ã–µ + –∫–ª—é—á)
2. **–ü–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏**: –°–æ–∑–¥–∞–≤–∞–π—Ç–µ snapshot —á–µ—Ä–µ–∑ —ç–∫—Å–ø–æ—Ä—Ç
3. **–•—Ä–∞–Ω–∏—Ç–µ –±—ç–∫–∞–ø—ã –æ—Ç–¥–µ–ª—å–Ω–æ**: –ù–µ –¥–µ—Ä–∂–∏—Ç–µ –Ω–∞ —Ç–æ–º –∂–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
4. **‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û**: –î–µ–ª–∞–π—Ç–µ –∫–æ–ø–∏–∏ `.env` —Ñ–∞–π–ª–∞ (SECRET_KEY)!

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
- `.env` —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç SECRET_KEY - —ç—Ç–æ –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–æ–ª–µ–π
- –ë–µ–∑ `.env` —Ñ–∞–π–ª–∞ –≤—ã **–ù–ï –°–ú–û–ñ–ï–¢–ï** —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- –•—Ä–∞–Ω–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ø–∏–π –≤ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö:
  - USB-—Ñ–ª–µ—à–∫–∞ (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–∞—è)
  - –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ)
  - –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞—Ä–æ–ª–µ–π (–∫–∞–∫ –∑–∞—â–∏—â—ë–Ω–Ω–∞—è –∑–∞–º–µ—Ç–∫–∞)

### –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä
```bash
# 1. –ù–∞ —Å—Ç–∞—Ä–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
–≠–∫—Å–ø–æ—Ä—Ç –ø–∞–∫–µ—Ç–∞ ‚Üí full_backup_YYYYMMDD_HHMMSS.zip

# 2. –ù–∞ –Ω–æ–≤–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
–í—ã–±—Ä–∞—Ç—å full_backup_*.zip

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
# –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å ZIP
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å secret_key.env ‚Üí .env
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å servers.json.enc ‚Üí data/
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–æ–≤–æ
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª –∏–∑ –±—ç–∫–∞–ø–∞
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ `.enc` —Ñ–∞–π–ª

### Legacy –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–°—Ç–∞—Ä–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Git-–±—ç–∫–∞–ø–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `backup_tools/`:
- –≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –¥–æ v4.0.0
- –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **–°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: [BUILD.md](BUILD.md)
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**: [../../PROJECT_DOCUMENTATION.md](../../PROJECT_DOCUMENTATION.md)
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π**: [SECRET_KEY.md](SECRET_KEY.md)
- **README**: [README.md](../../README.md)

---

**v4.0.3**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ! üéâ 