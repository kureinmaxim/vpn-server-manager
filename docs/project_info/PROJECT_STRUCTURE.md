# ะกัััะบัััะฐ ะัะพะตะบัะฐ VPN Server Manager v4.0.3

ะญัะพั ะดะพะบัะผะตะฝั ะพะฟะธััะฒะฐะตั ะฝะพะฒัั ะผะพะดัะปัะฝัั ะฐััะธัะตะบัััั ะฟัะพะตะบัะฐ, ัะพะทะดะฐะฝะฝัั ะฒ ัะพะพัะฒะตัััะฒะธะธ ั ัะพะฒัะตะผะตะฝะฝัะผะธ ะฟัะธะฝัะธะฟะฐะผะธ ัะฐะทัะฐะฑะพัะบะธ Flask-ะฟัะธะปะพะถะตะฝะธะน.

## ๐๏ธ ะะพะฒะฐั ะฐััะธัะตะบัััะฐ v4.0.3

### โจ ะะพัะปะตะดะฝะธะต ะพะฑะฝะพะฒะปะตะฝะธั (v4.0.3)
- ๐ฏ **ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะฐั ะฒะตััะธั**: ะะตััะธั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธะท `config.json`
- ๐ช **ะกะธััะตะผะฐ ะฒััะพะดะฐ**: Endpoints `/pin/exit_app`, `/pin/logout`, `/pin/check_auth`
- ๐ **ะฃะฟัะฐะฒะปะตะฝะธะต ัะตััะธัะผะธ**: `private_mode=True`, ัะตััะธะธ ะฝะต ัะพััะฐะฝััััั ะผะตะถะดั ะทะฐะฟััะบะฐะผะธ
- ๐จ **UI/UX ัะปัััะตะฝะธั**: ะะบะฝะพ 880px, ัััะตั, ะธะฝัะพัะผะฐัะธั ะพ ัะตัะฒะตัะต (URL ะธ ะฟะพัั)
- ๐ **ะะพะบะฐะปะธะทะฐัะธั**: ะะพะฑะฐะฒะปะตะฝั ะฟะตัะตะฒะพะดั, ะปะพะบะฐะปะธะทะพะฒะฐะฝะฝัะต ะดะธะฐะปะพะณะธ ะฒััะพะดะฐ/ะทะฐะบัััะธั
- ๐ง **ะัะฟัะฐะฒะปะตะฝะธั**: ะกััะฐะฝะธัะฐ "ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะดัะบะฐะทะบะฐะผะธ" ัะตะฟะตัั ัะฐะฑะพัะฐะตั
- ๐ **Multi-App Support**: ะะฐัะฐะปะปะตะปัะฝัะน ะทะฐะฟััะบ ะฝะตัะบะพะปัะบะธั ัะบะทะตะผะฟะปััะพะฒ ะฑะตะท ะบะพะฝัะปะธะบัะพะฒ
- ๐ฏ **ะะธะฝะฐะผะธัะตัะบะธะต ะฟะพััั**: WSGI ัะตัะฒะตั ั ะฐะฒัะพะผะฐัะธัะตัะบะธะผ ะฒัะดะตะปะตะฝะธะตะผ ะฟะพััะพะฒ
- ๐ **ะะทะพะปะธัะพะฒะฐะฝะฝัะต ัะตััะธะธ**: ะฃะฝะธะบะฐะปัะฝัะต cookie ะดะปั ะบะฐะถะดะพะณะพ ัะบะทะตะผะฟะปััะฐ
- โก **Graceful Shutdown**: ะะพััะตะบัะฝะพะต ะทะฐะฒะตััะตะฝะธะต ั ะพัะฒะพะฑะพะถะดะตะฝะธะตะผ ัะตััััะพะฒ
- ๐ **Frozen ัะตะถะธะผ ะธัะฟัะฐะฒะปะตะฝ**: ะะพััะตะบัะฝัะต ะฟััะธ ะดะปั macOS .app
- ๐ช **Desktop launcher**: `launch_gui.py` ะดะปั ะทะฐะฟััะบะฐ ะธะท Finder
- ๐จ **ะะบะพะฝะบะฐ ะฒะพัััะฐะฝะพะฒะปะตะฝะฐ**: PNG โ ICNS ะบะพะฝะฒะตััะฐัะธั

### ะะตัะตะฒะพ ะัะพะตะบัะฐ

```
VPNserverManage-Clean/
โ
โโโ run.py                       # ะะพะฒะฐั ัะพัะบะฐ ะฒัะพะดะฐ (web/desktop ัะตะถะธะผั)
โโโ launch_gui.py                # ๐ Desktop launcher ะดะปั Finder (v4.0.3)
โโโ run_desktop.py               # ะะฑัััะบะฐ ะดะปั --desktop ัะตะถะธะผะฐ
โโโ config.json                  # ๐ฏ ะะพะฝัะธะณััะฐัะธั + ะฒะตััะธั 4.0.3
โโโ Info.plist.template          # ๐ ะจะฐะฑะปะพะฝ ะดะปั macOS (v4.0.3)
โโโ app/                         # ะัะฝะพะฒะฝะพะต ะฟัะธะปะพะถะตะฝะธะต (ะผะพะดัะปัะฝะฐั ะฐััะธัะตะบัััะฐ)
โ   โโโ __init__.py             # Application Factory + ัะฝะธะบะฐะปัะฝัะต cookie-ัะตััะธะธ
โ   โโโ config.py               # ะะพะฝัะธะณััะฐัะธั ัะตัะตะท ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
โ   โโโ exceptions.py           # ะะฐััะพะผะฝัะต ะธัะบะปััะตะฝะธั
โ   โโโ models/                 # ะะพะดะตะปะธ ะดะฐะฝะฝัั
โ   โ   โโโ __init__.py
โ   โ   โโโ server.py
โ   โโโ services/               # ะะธะทะฝะตั-ะปะพะณะธะบะฐ (Service Layer)
โ   โ   โโโ __init__.py
โ   โ   โโโ ssh_service.py      # SSH/SFTP ัะตัะฒะธัั
โ   โ   โโโ crypto_service.py   # ะัะธะฟัะพะณัะฐัะธัะตัะบะธะต ะพะฟะตัะฐัะธะธ
โ   โ   โโโ api_service.py      # HTTP API ัะตัะฒะธัั
โ   โ   โโโ data_manager_service.py  # ะฃะฟัะฐะฒะปะตะฝะธะต ะดะฐะฝะฝัะผะธ (v4.0.1+)
โ   โโโ routes/                 # ะะฐัััััั (Blueprint Architecture)
โ   โ   โโโ __init__.py
โ   โ   โโโ main.py             # + ัะฝะดะฟะพะธะฝั /shutdown (v4.0.2)
โ   โ   โโโ api.py
โ   โโโ utils/                  # ะฃัะธะปะธัั
โ       โโโ __init__.py
โ       โโโ validators.py
โ       โโโ decorators.py
โ
โโโ desktop/                    # Desktop GUI ัะปะพะน
โ   โโโ __init__.py
โ   โโโ window.py               # WSGI ัะตัะฒะตั + ะดะธะฝะฐะผะธัะตัะบะธะต ะฟะพััั (v4.0.2)
โ
โโโ tests/                      # ะขะตััั
โ   โโโ __init__.py
โ   โโโ conftest.py
โ   โโโ test_services/
โ   โโโ test_routes/
โ
โโโ build_macos.py              # ะกะฑะพัะบะฐ .app ะธ .dmg ะดะปั macOS
โโโ requirements.txt            # ะะฐะฒะธัะธะผะพััะธ Python
โโโ config.json                 # ะะพะฝัะธะณััะฐัะธั ะฟัะธะปะพะถะตะฝะธั (legacy)
โโโ env.example                 # ะัะธะผะตั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
โโโ setup.py                    # ะฃััะฐะฝะพะฒะบะฐ ะฟะฐะบะตัะฐ
โโโ Makefile                    # ะะพะผะฐะฝะดั ัะฐะทัะฐะฑะพัะบะธ
โโโ Dockerfile                  # ะะพะฝัะตะนะฝะตัะธะทะฐัะธั
โโโ docker-compose.yml          # Docker Compose
โโโ pytest.ini                 # ะะฐัััะพะนะบะธ ัะตััะพะฒ
โโโ VPNServerManager-Clean.spec # ะะพะฝัะธะณ PyInstaller
โโโ README.md                   # ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ ะฟัะพะตะบัะฐ
โโโ README_NEW_STRUCTURE.md     # ะะพะบัะผะตะฝัะฐัะธั ะฝะพะฒะพะน ะฐััะธัะตะบัััั
โโโ MULTI_APP_IMPLEMENTATION.md # ะกะฟะตัะธัะธะบะฐัะธั Multi-App Support
โโโ ArchitecturalRules.md       # ะััะธัะตะบัััะฝัะต ะฟัะฐะฒะธะปะฐ ะฟัะพะตะบัะฐ
โโโ CHANGELOG.md                # ะััะพัะธั ะธะทะผะตะฝะตะฝะธะน (v4.0.2)
โโโ LICENSE                     # ะะธัะตะฝะทะธั MIT
โโโ .gitignore                  # ะัะบะปััะตะฝะธั ะดะปั Git
โโโ generate_key.py             # ะฃัะธะปะธัะฐ ะณะตะฝะตัะฐัะธะธ SECRET_KEY
โโโ decrypt_tool.py             # ะะฝััััะผะตะฝั ะดะปั ัะฐััะธััะพะฒะบะธ ะดะฐะฝะฝัั
โโโ test_basic.py               # ะะฐะทะพะฒัะต ัะตััั
โโโ pin_auth.py                 # ะกะธััะตะผะฐ PIN-ะฐััะตะฝัะธัะธะบะฐัะธะธ (legacy)
โโโ pin_block_state.json        # ะกะพััะพัะฝะธะต ะฑะปะพะบะธัะพะฒะบะธ PIN-ะบะพะดะฐ
โ
โโโ data/                       # ะะฐะฝะฝัะต ะฟัะพะตะบัะฐ (ะทะฐัะธััะพะฒะฐะฝะฝัะต ะธ ัะปัะถะตะฑะฝัะต)
โ   โโโ servers.json.enc
โ   โโโ hints.json
โ   โโโ merged_*.enc
โ
โโโ static/                     # ะกัะฐัะธัะตัะบะธะต ัะฐะนะปั
โ   โโโ css/
โ   โโโ images/
โ   โโโ fonts/
โ   โโโ js/
โ
โโโ templates/                  # HTML-ัะฐะฑะปะพะฝั ะธะฝัะตััะตะนัะฐ
โ   โโโ layout.html
โ   โโโ index.html
โ   โโโ index_locked.html
โ   โโโ add_server.html
โ   โโโ edit_server.html
โ   โโโ settings.html
โ   โโโ about.html
โ   โโโ help.html
โ   โโโ cheatsheet.html
โ   โโโ manage_hints.html
โ
โโโ translations/               # ะะตัะตะฒะพะดั (.po/.mo)
โ   โโโ en/LC_MESSAGES/messages.{po,mo}
โ   โโโ zh/LC_MESSAGES/messages.{po,mo}
โ   โโโ ru/LC_MESSAGES/         # (ะพะฟัะธะพะฝะฐะปัะฝะพ)
โ
โโโ docs/
โ   โโโ project_info/            # ะัะฝะพะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟัะพะตะบัะฐ
โ   โ   โโโ README.md
โ   โ   โโโ PROJECT_STRUCTURE.md # ะญัะพั ัะฐะนะป
โ   โ   โโโ SECRET_KEY.md
โ   โ   โโโ BUILD.md
โ   โ   โโโ BACKUP_TOOLS.md
โ   โ   โโโ maintenance/         # ะะพะบัะผะตะฝัั ะฟะพ ะพะฑัะปัะถะธะฒะฐะฝะธั
โ   โ       โโโ quick_cleanup.md
โ   โ
โ   โโโ lessons/                 # ะฃัะตะฑะฝัะต ะผะฐัะตัะธะฐะปั
โ       โโโ i18n/                # ะะพะบัะผะตะฝัะฐัะธั ะฟะพ ะปะพะบะฐะปะธะทะฐัะธะธ
โ       โ   โโโ README.md
โ       โ   โโโ flask-babel.md
โ       โ   โโโ babel-cli-workflow.md
โ       โ   โโโ auto-translate.md
โ       โ   โโโ add-language.md
โ       โ   โโโ troubleshooting.md
โ       โ   โโโ pyinstaller.md
โ       โ
โ       โโโ github_docs/         # ะะพะบัะผะตะฝัะฐัะธั ะดะปั GitHub
โ       โ   โโโ CODE_OF_CONDUCT.md
โ       โ   โโโ CONTRIBUTING.md
โ       โ   โโโ SECURITY.md
โ       โ
โ       โโโ github_tutorials/    # ะขััะพัะธะฐะปั ะฟะพ GitHub
โ       โ   โโโ github_basics_tutorials/
โ       โ   โโโ github_cli_tutorials/
โ       โ
โ       โโโ github-actions/      # ะะพะบัะผะตะฝัะฐัะธั ะฟะพ GitHub Actions
โ           โโโ README.md
โ           โโโ PROJECT_USAGE.md
โ           โโโ GITHUB_ACTIONS_INDEX.md
โ           โโโ GITHUB_ACTIONS_FAQ.md
โ           โโโ GITHUB_ACTIONS_LESSONS.md
โ           โโโ cleanup_summary.md
โ
โโโ tools/
โ   โโโ auto_translate_po.py     # ะกะบัะธะฟั ะฐะฒัะพะฟะตัะตะฒะพะดะฐ `.po`
โ
โโโ backup_tools/
โ   โโโ README.md
โ   โโโ QUICK_START.md
โ   โโโ INDEX.md
โ   โโโ CHANGE_CHECKLIST.md
โ   โโโ CURRENT_STATE.md
โ   โโโ BACKUP_SUMMARY.md
โ   โโโ FINAL_REPORT.md
โ   โโโ backup_strategy.md
โ   โโโ rollback.sh              # ะกะบัะธะฟั ะพัะบะฐัะฐ (ะฟะพะดะดะตัะถะธะฒะฐะตั -y)
โ
โโโ dist/                        # ะะตะทัะปััะฐัั ัะฑะพัะบะธ (.app, .dmg)
โโโ build/                       # ะัะตะผะตะฝะฝัะต ัะฐะนะปั ัะฑะพัะบะธ
โโโ uploads/                     # ะะฐะณััะถะตะฝะฝัะต ะฟะพะปัะทะพะฒะฐัะตะปะตะผ ัะฐะนะปั
โโโ logs/                        # ะะพะณะธ ะฟัะธะปะพะถะตะฝะธั
โโโ venv/                        # ะะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต Python
```

## ๐ง ะะปััะตะฒัะต ะบะพะผะฟะพะฝะตะฝัั ะฝะพะฒะพะน ะฐััะธัะตะบัััั

### Application Factory Pattern
- **ะคะฐะนะป**: `app/__init__.py`
- **ะคัะฝะบัะธั**: `create_app(config_name)`
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะกะพะทะดะฐะฝะธะต Flask-ะฟัะธะปะพะถะตะฝะธั ั ัะฐะทะปะธัะฝัะผะธ ะบะพะฝัะธะณััะฐัะธัะผะธ
- **v4.0.2**: ะฃะฝะธะบะฐะปัะฝัะต cookie-ัะตััะธะธ (`SESSION_COOKIE_NAME = 'vpn_manager_session_clean'`)

### Service Layer
- **SSH Service**: `app/services/ssh_service.py` - SSH/SFTP ะพะฟะตัะฐัะธะธ
- **Crypto Service**: `app/services/crypto_service.py` - ะจะธััะพะฒะฐะฝะธะต/ะดะตัะธััะพะฒะฐะฝะธะต
- **API Service**: `app/services/api_service.py` - HTTP ะทะฐะฟัะพัั
- **Data Manager Service**: `app/services/data_manager_service.py` - ะฃะฟัะฐะฒะปะตะฝะธะต ะดะฐะฝะฝัะผะธ (v4.0.1+)
- **Registry**: `app/services/__init__.py` - Dependency Injection

### Blueprint Architecture
- **Main Blueprint**: `app/routes/main.py` - ะัะฝะพะฒะฝัะต ะผะฐัััััั + `/shutdown` (v4.0.2) + `/manage_hints`, `/add_hint`, `/delete_hint` (v4.0.3)
- **API Blueprint**: `app/routes/api.py` - REST API endpoints
- **PIN Blueprint**: `app/routes/api.py` - PIN ะฐััะตะฝัะธัะธะบะฐัะธั + `/logout`, `/exit_app`, `/check_auth` (v4.0.3)

### Models
- **Server Model**: `app/models/server.py` - ะะพะดะตะปั ัะตัะฒะตัะฐ ั ะฒะฐะปะธะดะฐัะธะตะน

### Utils
- **Validators**: `app/utils/validators.py` - ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั
- **Decorators**: `app/utils/decorators.py` - ะะตะบะพัะฐัะพัั ะฑะตะทะพะฟะฐัะฝะพััะธ

### Desktop Layer (v4.0.2 - Multi-App Support, v4.0.3 - Exit System)
- **Desktop App**: `desktop/window.py` - PyWebView GUI
- **WSGI ัะตัะฒะตั**: ะะธะฝะฐะผะธัะตัะบะพะต ะฒัะดะตะปะตะฝะธะต ะฟะพััะพะฒ (ะฟะพัั 0)
- **ะะปะพะฑะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต**: `SERVER_PORT`, `_WSGI_SERVER`
- **Graceful Shutdown**: ะะพััะตะบัะฝะพะต ะทะฐะฒะตััะตะฝะธะต ั ะพัะฒะพะฑะพะถะดะตะฝะธะตะผ ัะตััััะพะฒ
- **Exit System (v4.0.3)**: ะะฐะบัััะธะต ัะตัะตะท `/pin/exit_app` โ `window.destroy()` โ `os._exit(0)`
- **Session Management (v4.0.3)**: `private_mode=True`, ัะตััะธะธ ะฝะต ะฟะตััะธััะตะฝัะฝั
- **Window Size (v4.0.3)**: ะฃะฒะตะปะธัะตะฝะฝะพะต ะพะบะฝะพ 880px (ะฒะผะตััะพ 800px)

### Testing
- **Test Configuration**: `tests/conftest.py` - Pytest ะบะพะฝัะธะณััะฐัะธั
- **Service Tests**: `tests/test_services/` - ะขะตััั ัะตัะฒะธัะพะฒ
- **Route Tests**: `tests/test_routes/` - ะขะตััั ะผะฐัััััะพะฒ

## ๐ ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

### Web ัะตะถะธะผ (ั ะฐะฒัะพะผะฐัะธัะตัะบะธะผ ะฒัะฑะพัะพะผ ะฟะพััะฐ)
```bash
python run.py
# ๐ VPN Server Manager v4.0.3
# ๐ก Web server: http://127.0.0.1:5000 (ะธะปะธ ัะปะตะดัััะธะน ัะฒะพะฑะพะดะฝัะน)
```

### Desktop ัะตะถะธะผ (ั ะดะธะฝะฐะผะธัะตัะบะธะผ ะฟะพััะพะผ v4.0.3)
```bash
python run.py --desktop
# ๐ Flask ัะตัะฒะตั ะทะฐะฟััะตะฝ ะฝะฐ http://127.0.0.1:XXXXX
# ะะพัั ะฝะฐะทะฝะฐัะฐะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะะก!
```

### Debug ัะตะถะธะผ
```bash
python run.py --debug
```

### ๐ฏ ะะฐัะฐะปะปะตะปัะฝัะน ะทะฐะฟััะบ (v4.0.3)
```bash
# ะขะตัะผะธะฝะฐะป 1
python run.py --desktop  # ะะพัั: 52341

# ะขะตัะผะธะฝะฐะป 2
python run.py --desktop  # ะะพัั: 52342 (ะฐะฒัะพะผะฐัะธัะตัะบะธ!)

# ะะตะทัะปััะฐั: ะะฒะฐ ะฝะตะทะฐะฒะธัะธะผัั ัะบะทะตะผะฟะปััะฐ ะฑะตะท ะบะพะฝัะปะธะบัะพะฒ!
```

## ๐๏ธ ะะฝััััะผะตะฝัั ัะฐะทัะฐะฑะพัะบะธ

### Makefile ะบะพะผะฐะฝะดั
- `make install-dev` - ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน ะดะปั ัะฐะทัะฐะฑะพัะบะธ
- `make test` - ะะฐะฟััะบ ัะตััะพะฒ
- `make lint` - ะัะพะฒะตัะบะฐ ะบะฐัะตััะฒะฐ ะบะพะดะฐ
- `make format` - ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะบะพะดะฐ
- `make all` - ะัะต ะฟัะพะฒะตัะบะธ

### Docker
- `Dockerfile` - ะะพะฝัะตะนะฝะตัะธะทะฐัะธั ะฟัะธะปะพะถะตะฝะธั
- `docker-compose.yml` - ะัะบะตัััะฐัะธั ัะตัะฒะธัะพะฒ

### ะขะตััะธัะพะฒะฐะฝะธะต
- `pytest.ini` - ะะพะฝัะธะณััะฐัะธั ัะตััะพะฒ
- ะะพะบัััะธะต ะบะพะดะฐ ะธ ะธะฝัะตะณัะฐัะธะพะฝะฝัะต ัะตััั
```

## ๐ฏ ะััะธัะตะบัััะฝัะต ะฟัะตะธะผััะตััะฒะฐ v4.0.3

### Multi-App Support
- โ **ะะธะฝะฐะผะธัะตัะบะธะต ะฟะพััั**: ะะธะบะพะณะดะฐ ะฝะต ะฑัะดะตั ะบะพะฝัะปะธะบัะพะฒ "Address already in use"
- โ **ะะทะพะปะธัะพะฒะฐะฝะฝัะต ัะตััะธะธ**: ะฃะฝะธะบะฐะปัะฝัะต cookie ะดะปั ะบะฐะถะดะพะณะพ ัะบะทะตะผะฟะปััะฐ
- โ **ะะฐัะฐะปะปะตะปัะฝะฐั ัะฐะฑะพัะฐ**: ะะตะพะณัะฐะฝะธัะตะฝะฝะพะต ะบะพะปะธัะตััะฒะพ ัะบะทะตะผะฟะปััะพะฒ
- โ **Graceful Shutdown**: ะะพััะตะบัะฝะพะต ะพัะฒะพะฑะพะถะดะตะฝะธะต ัะตััััะพะฒ

### Exit System & Session Management (v4.0.3)
- โ **ะกะธััะตะผะฐ ะฒััะพะดะฐ**: Endpoints `/pin/logout` ะธ `/pin/exit_app`
- โ **ะัะพะฒะตัะบะฐ ะฐััะตะฝัะธัะธะบะฐัะธะธ**: Endpoint `/pin/check_auth`
- โ **ะะฐะบัััะธะต ะฟัะธะปะพะถะตะฝะธั**: JavaScript โ `/pin/exit_app` โ `window.destroy()` โ `os._exit(0)`
- โ **ะฃะฟัะฐะฒะปะตะฝะธะต ัะตััะธัะผะธ**: `private_mode=True`, `session.permanent=False`
- โ **ะะพะบะฐะปะธะทะฐัะธั**: ะะธะฐะปะพะณะธ ะฒััะพะดะฐ ะธ ะทะฐะบัััะธั ะฟะพะปะฝะพัััั ะฟะตัะตะฒะตะดะตะฝั

### UI/UX Improvements (v4.0.3)
- โ **ะฃะฒะตะปะธัะตะฝะฝะพะต ะพะบะฝะพ**: 880px ะฒะผะตััะพ 800px ะดะปั ัะดะพะฑััะฒะฐ
- โ **ะคััะตั**: ะัะพะฑัะฐะถะตะฝะธะต URL ะธ ะฟะพััะฐ ัะตัะฒะตัะฐ
- โ **ะกะฒะตัะปะฐั ัะตะผะฐ**: ะัะฟัะฐะฒะปะตะฝะฐ ะฒะธะดะธะผะพััั ัะตะบััะฐ ะฒ ัััะตัะต
- โ **i18n**: ะะพะปะฝะฐั ะปะพะบะฐะปะธะทะฐัะธั ะฒัะตั ะดะธะฐะปะพะณะพะฒ

### ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ
- **WSGI**: `wsgiref.simple_server.make_server('127.0.0.1', 0, app)`
- **Cookie**: `SESSION_COOKIE_NAME = 'vpn_manager_session_clean'`
- **Shutdown**: ะญะฝะดะฟะพะธะฝั `/shutdown` + ะพะฑัะฐะฑะพััะธะบ `on_closing`
- **Exit**: `logout()` โ `session.clear()` โ `window.destroy()` โ `os._exit(0)`
- **Session**: `private_mode=True`, ะพัะบะปััะตะฝ `SESSION_TYPE='filesystem'`
- **ะะพะบัะผะตะฝัะฐัะธั**: [MULTI_APP_IMPLEMENTATION.md](../../MULTI_APP_IMPLEMENTATION.md)

## ๐ ะัะธะผะตัะฐะฝะธั

### ะะฑัะธะต
- ะะตัะตะฒะพะดั ะบะพะผะฟะธะปะธัััััั ะฒ `.mo` ัะตัะตะท `pybabel compile -d translations`
- ะะปั ัะฟะฐะบะพะฒะบะธ ะฒ `.app` ะดะพะฑะฐะฒะปัะนัะต `translations` ะฒ ัะฑะพัะบั (ัะผ. docs/lessons/i18n/pyinstaller.md)
- **v4.0.3**: ะะตััะธั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะณััะถะฐะตััั ะธะท `config.json`
- **v4.0.3**: ะะฐะถะดัะน ัะบะทะตะผะฟะปัั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะปััะฐะตั ัะฒะพะฑะพะดะฝัะน ะฟะพัั ะพั ะะก

### ะััะธ ะดะฐะฝะฝัั (v4.0.3)

#### Production (macOS frozen .app):
- **ะะฐะฝะฝัะต**: `~/Library/Application Support/VPNServerManager-Clean/data/`
- **ะะพะณะธ**: `~/Library/Logs/VPNServerManager/app.log`
- **ะะฐะณััะทะบะธ**: `~/Library/Application Support/VPNServerManager-Clean/uploads/`
- **ะะพะฝัะธะณััะฐัะธั**: ะัััะพะตะฝะฐ ะฒ .app bundle

#### Development (ะธััะพะดะฝะธะบะธ):
- **ะะฐะฝะฝัะต**: `./data/`
- **ะะพะณะธ**: `./logs/app.log`
- **ะะฐะณััะทะบะธ**: `./uploads/`
- **ะะพะฝัะธะณััะฐัะธั**: `./config.json`

### Frozen ัะตะถะธะผ (v4.0.3)
- **Launcher**: `launch_gui.py` - ะฐะฒัะพะผะฐัะธัะตัะบะพะต ะปะพะณะธัะพะฒะฐะฝะธะต ะธ ะธะฝะธัะธะฐะปะธะทะฐัะธั
- **Detection**: `sys.frozen` ะดะปั ะพะฟัะตะดะตะปะตะฝะธั ัะตะถะธะผะฐ
- **Info.plist**: `NSPrincipalClass=NSApplication` ะดะปั GUI
- **ะะบะพะฝะบะฐ**: `icon_clean.icns` (16x16 โ 1024x1024)