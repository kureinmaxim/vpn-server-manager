# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–±–æ—Ä–∫–µ VPN Server Manager v4.0.3

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è VPN Server Manager –¥–ª—è macOS —Å –Ω–æ–≤–æ–π –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8 –∏–ª–∏ –≤—ã—à–µ
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π pip
- PyInstaller (`pip install pyinstaller`)

### –î–ª—è macOS
- macOS 10.14 –∏–ª–∏ –≤—ã—à–µ
- Xcode Command Line Tools (–∑–∞–ø—É—Å—Ç–∏—Ç–µ `xcode-select --install`)
- –£—Ç–∏–ª–∏—Ç–∞ `iconutil` (–≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ macOS)
- –£—Ç–∏–ª–∏—Ç–∞ `sips` (–≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ macOS)

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–±–æ—Ä–∫–µ

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞
2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   pip install pyinstaller
   ```

## –°–±–æ—Ä–∫–∞ –¥–ª—è macOS

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–∫–æ–Ω–∫–∏
1. –°–æ–∑–¥–∞–π—Ç–µ –∏–∫–æ–Ω–∫—É –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ .png
2. –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `icon.png` –≤ –ø–∞–ø–∫—É `static/images/`
3. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç `.icns` —Ñ–∞–π–ª –∏–∑ PNG

### –°–æ–∑–¥–∞–Ω–∏–µ .app –∏ .dmg

**–°–ø–æ—Å–æ–± 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Makefile (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
# –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Å .dmg
make dist

# –¢–æ–ª—å–∫–æ .app –±–µ–∑ .dmg
make build
```

**–°–ø–æ—Å–æ–± 2: –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç**
```bash
python3 build_macos.py
```

**–°–ø–æ—Å–æ–± 3: PyInstaller –Ω–∞–ø—Ä—è–º—É—é**
```bash
pyinstaller --clean VPNServerManager-Clean.spec
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ –≤ –ø–∞–ø–∫–µ `dist/` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω `.app` –±—É–Ω–¥–ª –∏ `.dmg` —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π –æ–±—Ä–∞–∑.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (v4.0.3)

–ì–æ—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
- **–ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª** —Å –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python** (Flask, pywebview, cryptography –∏ –¥—Ä.)
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã** (CSS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∏–∫–æ–Ω–∫–∏)
- **HTML-—à–∞–±–ª–æ–Ω—ã** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å Jinja2
- **–ü–µ—Ä–µ–≤–æ–¥—ã** (translations/en, ru, zh)
- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
  - `app/` - Application Factory
  - `app/services/` - Service Layer
  - `app/routes/` - Blueprint Architecture
  - `desktop/` - PyWebView GUI wrapper

### –ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (v4.0.3)

–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö macOS:

**–î–ª—è —É–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–≥–æ .app:**
- **–î–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: `~/Library/Application Support/VPNServerManager-Clean/`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `config.json` (—Å–æ–¥–µ—Ä–∂–∏—Ç –≤–µ—Ä—Å–∏—é 4.0.3)
- **–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: `data/servers.json.enc` –∏–ª–∏ `data/merged_*.enc`
- **–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏**: `uploads/`
- **–õ–æ–≥–∏**: `logs/app.log`
- **–ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è**: `.env` —Ñ–∞–π–ª (SECRET_KEY)

**–î–ª—è —Ä–µ–∂–∏–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `get_app_data_dir()` –≤ `app/config.py`

## –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ v4.0.3

### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–µ–π
- –í–µ—Ä—Å–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ `config.json`
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (run.py, setup.py, build_macos.py) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
- Fallback –≤–µ—Ä—Å–∏—è: 4.0.3

### –°–∏—Å—Ç–µ–º–∞ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (v4.0.3)
- **Endpoint `/pin/exit_app`**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Endpoint `/pin/logout`**: –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã —Å –æ—á–∏—Å—Ç–∫–æ–π —Å–µ—Å—Å–∏–∏
- **Endpoint `/pin/check_auth`**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **JavaScript integration**: –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `logout()` –¥–ª—è pywebview
- **Graceful shutdown**: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ `window.destroy()` –∏ `os._exit(0)`

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ (v4.0.3)
- **private_mode=True**: PyWebview –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–µ—Å—Å–∏–∏ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- **session.permanent=False**: –°–µ—Å—Å–∏–∏ –Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã
- **–û—Ç–∫–ª—é—á–µ–Ω SESSION_TYPE='filesystem'**: –°–µ—Å—Å–∏–∏ —Ç–æ–ª—å–∫–æ –≤ cookies
- **PIN —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ**: –£–ª—É—á—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### UI/UX —É–ª—É—á—à–µ–Ω–∏—è (v4.0.3)
- **–£–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ**: –ù–∞—á–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ 880px (–≤–º–µ—Å—Ç–æ 800px)
- **–§—É—Ç–µ—Ä –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ**: URL –∏ –ø–æ—Ä—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ñ—É—Ç–µ—Ä–µ
- **–õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏**: –í—ã—Ö–æ–¥ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã

### –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (v4.0.3)
- **–ü–µ—Ä–µ–≤–æ–¥—ã**: –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã (EN, ZH)
- **"–ü–æ—Ä—Ç"**: EN ‚Üí "Port", ZH ‚Üí "Á´ØÂè£"
- **–î–∏–∞–ª–æ–≥ –≤—ã—Ö–æ–¥–∞**: –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ `window.confirmClose()`
- **–î–∏–∞–ª–æ–≥ –∑–∞–∫—Ä—ã—Ç–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ (v4.0.3)
- **–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏"**: –î–æ–±–∞–≤–ª–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã `add_hint`, `delete_hint`
- **Blueprint –ø—Ä–µ—Ñ–∏–∫—Å—ã**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã `url_for` —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `main.`

### Multi-App Support (v4.0.2+)
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ—Ä—Ç—ã**: WSGI —Å–µ—Ä–≤–µ—Ä —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞
- **–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ cookie (`vpn_manager_session_clean`)
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫**: –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- **Graceful Shutdown**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤

### –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (v4.0.0+)
- **Application Factory Pattern**: –ì–∏–±–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Service Layer**: –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (SSH, Crypto, API, DataManager)
- **Blueprint Architecture**: –ú–æ–¥—É–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
- **Dependency Injection**: –†–µ–µ—Å—Ç—Ä —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### –ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö, –∫–ª—é—á–∞, –ø–æ–ª–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞
- –ò–º–ø–æ—Ä—Ç —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ—à–∏—Ñ—Ä–æ–≤–∫–æ–π –ø–∞—Ä–æ–ª–µ–π
- –ò–º–ø–æ—Ä—Ç –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å –¥—Ä—É–≥–∏–º –∫–ª—é—á–æ–º
- –°–º–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

### –£–ª—É—á—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í—Å–µ –ø–∞—Ä–æ–ª–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º Fernet (AES-128 + HMAC-SHA256)
- –í–∞–ª–∏–¥–∞—Ü–∏—è SECRET_KEY –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- PIN-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö
- –°–µ—Å—Å–∏–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ

### –ß–µ—Ä–µ–∑ DMG-–æ–±—Ä–∞–∑
–°–æ–∑–¥–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π –æ–±—Ä–∞–∑ `.dmg` —Å –∫—Ä–∞—Å–∏–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ –ø–∞–ø–∫—É Applications.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- –î–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Apple Developer Program
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Intel x86_64 –∏ Apple Silicon (—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏)

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–±–æ—Ä–∫–æ–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Xcode Command Line Tools
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–∫–æ–Ω–∫–∞–º–∏
- –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏–∫–æ–Ω–∫–∏, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ `iconutil`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª `icon.png` –∏–º–µ–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–µ –º–µ–Ω–µ–µ 512x512 –ø–∏–∫—Å–µ–ª–µ–π

### –ü—Ä–æ–±–ª–µ–º—ã —Å DMG
- –ï—Å–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ DMG –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ø–∞–ø–∫–∏ `dist/`
- –î–ª—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è DMG –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Disk Utility –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ (v4.0.3)

```
dist/
‚îú‚îÄ‚îÄ VPNServerManager-Clean.app/     # –ì–æ—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ Contents/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MacOS/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VPNServerManager-Clean  # –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Resources/       # –†–µ—Å—É—Ä—Å—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app/         # –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates/   # Jinja2 —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ static/      # CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ translations/ # i18n –ø–µ—Ä–µ–≤–æ–¥—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.json  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (version: 4.0.3)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Frameworks/      # Python.framework
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Info.plist       # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤–µ—Ä—Å–∏—è –∏–∑ config.json)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ README.txt               # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
‚îî‚îÄ‚îÄ VPNServerManager-Clean_Installer.dmg  # –£—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π –æ–±—Ä–∞–∑
```

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (i18n)

- –û–±–∑–æ—Ä –∏ –º–µ—Ç–æ–¥—ã: —Å–º. `docs/i18n/README.md`
- –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Flask-Babel: `docs/i18n/flask-babel.md`
- –†–∞–±–æ—á–∏–π —Ü–∏–∫–ª Babel CLI: `docs/i18n/babel-cli-workflow.md`
- –ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ `.po`: `docs/i18n/auto-translate.md`
- –£–ø–∞–∫–æ–≤–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ .app: `docs/i18n/pyinstaller.md`

## Makefile –∫–æ–º–∞–Ω–¥—ã (v4.0.3)

```bash
# –°–±–æ—Ä–∫–∞
make build          # –°–æ–±—Ä–∞—Ç—å .app
make dist           # –°–æ–±—Ä–∞—Ç—å .app + .dmg
make clean          # –û—á–∏—Å—Ç–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

# –ó–∞–ø—É—Å–∫
make run            # Web —Ä–µ–∂–∏–º (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç)
make run-desktop    # Desktop —Ä–µ–∂–∏–º (WSGI —Å –ø–æ—Ä—Ç–æ–º 0)
make run-debug      # Debug —Ä–µ–∂–∏–º

# –í–µ—Ä—Å–∏—è
make version        # –ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é –∏–∑ config.json
# –í—ã–≤–æ–¥: VPN Server Manager v4.0.3

# Docker (Multi-App Support)
make docker-build       # –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
make docker-run         # –ó–∞–ø—É—Å—Ç–∏—Ç—å (–ø–æ—Ä—Ç 5000)
make docker-run-custom PORT=5001  # –ö–∞—Å—Ç–æ–º–Ω—ã–π –ø–æ—Ä—Ç
make docker-run-multi   # 3 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø–æ—Ä—Ç—ã 5000-5002)
make docker-stop-multi  # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
make install-dev    # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
make test           # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make lint           # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥
make format         # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
make all            # –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
```bash
# –î–æ –∑–∞–ø—É—Å–∫–∞
make version
# –í—ã–≤–æ–¥: VPN Server Manager v4.0.3

# –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞
python run.py
# –í—ã–≤–æ–¥: üåê VPN Server Manager v4.0.3
#        üì° Web server: http://127.0.0.1:5000
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Multi-App Support
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1
make run-desktop
# –ü–æ—Ä—Ç: 52341 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)

# –¢–µ—Ä–º–∏–Ω–∞–ª 2
make run-desktop
# –ü–æ—Ä—Ç: 52342 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π, –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤!)
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **v4.0.3**: –í–µ—Ä—Å–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ `config.json`
- **v4.0.2+**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
- **v4.0.0+**: –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å Application Factory
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- –î–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- **–í–ê–ñ–ù–û**: –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ `.env` —Ñ–∞–π–ª–∞ (SECRET_KEY) –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –î–∞–Ω–Ω—ã–µ –≤ production: `~/Library/Application Support/VPNServerManager-Clean/`
- –î–∞–Ω–Ω—ã–µ –≤ development: –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞ 